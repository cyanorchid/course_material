
#include "MSP430F5529.h"       //MSP头文件
#include "key.h"               //包含按键检测功能文件
#include "IIC.h"               //包含IIC通信功能与显示函数文件

#define CPU_F ((double)32768)
#define delay_us(x) __delay_cycles((long)(CPU_F*(double)x/1000000.0))
#define delay_ms(x) __delay_cycles((long)(CPU_F*(double)x/1000.0))//定义延时函数

//显示校徽函数
void  LCD_Show_xh(unsigned char x,unsigned char y){
//存储取模后数组
unsigned char xh[10000]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0xC0,0xC0,0xC0,0xE0,0xE0,0xE0,0xE0,0xE0,0xF0,0xF0,0xF0,
0xF0,0xF0,0xF0,0xE0,0xE0,0xE0,0xE0,0xE0,0xC0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xF0,0xF8,0xFC,
0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xE7,0xCF,0x78,0x71,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,
0x3F,0x3F,0x3F,0x3F,0x37,0x63,0x69,0x43,0x93,0xFD,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
0xFC,0xF8,0xF0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0xFC,0xFF,0xFF,0xFB,0xFB,0xE7,0xF3,0xE7,
0x3F,0x1F,0x07,0x03,0x03,0xC1,0xE0,0x20,0x30,0x30,0x30,0x30,0x60,0x60,0xC0,0xC0,
0x80,0x80,0xC0,0x60,0x60,0x20,0x30,0x30,0x30,0x30,0x61,0xC3,0x07,0x0F,0x1F,0x7F,
0xE7,0xA7,0xF7,0xF3,0xFB,0xFF,0xFE,0xFC,0xF0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0x7F,0xFF,0x7F,0xFF,0xFF,0xFF,0x7F,0x03,0x00,
0x00,0xE0,0xC0,0x00,0xE0,0xE7,0x9F,0xE0,0x60,0xB0,0xF0,0xB0,0x7C,0xEC,0x86,0xC3,
0xE1,0xE3,0xC6,0x4E,0x6C,0x68,0xE0,0x60,0x60,0xC0,0xDC,0x6F,0x60,0xC0,0x00,0x00,
0x00,0x07,0xFF,0xFF,0x7F,0xFF,0x3F,0x7F,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0xFF,0xFF,0xFF,0xFE,0xFC,0xFC,0xFE,0xFF,0xFF,0xC0,0x00,
0x00,0x03,0x07,0x06,0x07,0xE3,0xF9,0x1F,0x06,0x0D,0x0F,0x0D,0x1F,0x37,0x61,0xC3,
0x87,0xC7,0xE3,0x73,0x38,0x1A,0x0F,0x00,0x00,0x0B,0x3F,0xF6,0x06,0x02,0x00,0x00,
0x00,0xE0,0xFF,0xFF,0xFC,0xFE,0xFF,0xFE,0xFF,0xFE,0x7F,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x1F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFC,0xF0,0xE0,0xC0,0x80,0x83,0x06,0x0C,0x0C,0x0C,0x0C,0x0C,0x06,0x06,0x03,0x03,
0x01,0x01,0x03,0x06,0x06,0x0C,0x0C,0x08,0x08,0x08,0x84,0xC3,0xE0,0xF0,0xF8,0xFC,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x3F,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3F,
0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,0x7C,0xDC,0xFC,0xFC,0x1C,0xFC,
0xFC,0x7C,0xDC,0xFC,0x3C,0x3C,0xFE,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x7F,
0x3F,0x1F,0x0F,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x03,0x07,0x07,0x07,0x07,0x0F,0x0F,0x0F,0x0F,
0x0F,0x0F,0x0F,0x07,0x07,0x07,0x07,0x07,0x03,0x03,0x01,0x01,0x01,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
  };//
  unsigned char  m=0,n=0;//输出的坐标变量
 for(m=0;m<8;m++){
    LCD_Set_Pos(x,m);//选择输出点
    for(n=0;n<128;n++){
      IIC_writedata(xh[m*128+n]);//输出对应位置数据
    }
  }
}

//显示标题函数
void  LCD_Show_title(unsigned char x,unsigned char  y){
//取模后数组，包含标题信息
unsigned char title[10000]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x28,0x10,0x18,
0xAC,0x28,0x08,0x88,0x90,0x88,0x86,0x94,0xC4,0xC4,0x84,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xF4,0x84,0x90,0x82,0xFE,0x1C,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x84,0x8C,0x0C,0x00,0x00,0x00,
0x00,0x02,0xFE,0x04,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0xA0,
0x80,0xFE,0x80,0x50,0x18,0x00,0x00,0xE0,0x38,0x00,0x80,0x80,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x08,0x78,0x08,0x20,0x3C,0x0C,0xC0,0x04,0x3C,0x24,0x24,0x3C,0xCC,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,
0x00,0xFC,0x54,0x54,0x44,0xFC,0x7C,0x00,0x00,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x10,0x48,0x2C,0x36,0x9E,0x44,0x64,0x3C,0x0D,0x04,0x04,0xC6,0x7C,
0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xE1,0x7F,0x20,0x00,0x02,0x02,0x03,
0x01,0x01,0xFF,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x60,0x20,0x24,0x22,
0xB9,0x03,0xE1,0x32,0x00,0x08,0x11,0xE1,0xFF,0x07,0x01,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xA0,0xA2,0x12,0x12,0x4A,0xC7,0x03,0x01,0xC5,0x49,0x59,0x71,0xF0,
0xF0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x06,0x07,0x03,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x02,0x02,0x01,0x00,0x00,0x00,0x02,0x0C,0x06,0x07,0x03,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x02,
0x02,0x01,0x03,0x02,0x00,0x01,0x01,0x00,0x00,0x03,0x03,0x06,0x04,0x04,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0x00,0x02,0x02,0x03,0x00,0x00,0x07,0x02,0x02,0x02,0x03,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,
0x0C,0x06,0x02,0x82,0xE6,0x3C,0x00,0x00,0xF8,0x1C,0x06,0x02,0x06,0x3C,0xF8,0x00,
0x00,0x0C,0x06,0x02,0x82,0xC6,0x7C,0x18,0x00,0xF8,0xFC,0x06,0x02,0x06,0x0C,0xF8,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x18,0x1E,0x1B,0x19,0x18,0x18,0x00,0x00,0x07,0x0E,0x18,0x18,0x18,0x0F,0x07,0x00,
0x00,0x18,0x1C,0x1F,0x19,0x18,0x18,0x00,0x00,0x03,0x0F,0x18,0x18,0x18,0x0C,0x07,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
  };
  int m=0,n=0;
  //与展示校徽函数相同
for(m=0;m<8;m++){
    LCD_Set_Pos(x,m);
    for(n=0;n<128;n++){
      IIC_writedata(title[m*128+n]);
    }
  }
}

void  LCD_Show_name(unsigned char x,unsigned char  y){
    //取模后数组，包含姓名等信息
unsigned char name[10000]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,
0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xC0,0x80,0x80,0x00,
0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0xC0,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0xC1,0xC1,0xC1,
0xC1,0xC1,0xC1,0xC1,0x00,0x00,0x00,0x1E,0x3F,0x7F,0x61,0xE1,0xC1,0xC1,0x87,0x8F,
0x0E,0x00,0x00,0x01,0x01,0x01,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x00,0x00,
0xFC,0xFE,0x1F,0x03,0x01,0x01,0x01,0x03,0x1F,0x1F,0x1C,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x7F,
0x78,0xE0,0xC0,0xC0,0xE0,0xF0,0x7F,0x3F,0x00,0x00,0x00,0xFF,0xFF,0xC0,0xC0,0xC0,
0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x00,0x3C,0x7C,0x70,0xE0,0xC0,0xC0,0xE1,0x63,0x7F,
0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
0x0F,0x3F,0x7C,0x60,0xE0,0xC0,0xE0,0x60,0x7E,0x3E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xC0,0x80,
0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x80,0x00,
0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xE0,0xC0,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0xE0,0xC0,0x80,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x20,0x10,0x18,0x9E,0xFB,0x00,0x00,0x7E,0x7A,0x5A,0x6A,
0x63,0x7F,0x0E,0x00,0x00,0x00,0x00,0x00,0xC0,0x7F,0x1F,0x73,0x59,0xFF,0xFF,0x55,
0xFD,0x1C,0x18,0x18,0x00,0x00,0x00,0x00,0xC0,0x7E,0x1E,0x6A,0x7A,0x8B,0xA7,0xBB,
0xBD,0xE4,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0xC4,0x64,0xFF,0xFF,0x36,0x90,0x59,0x3D,0xDF,0x7B,0x19,0xF8,0xF8,0x00,0x00,0x00,
0x08,0x88,0x69,0xFF,0xFF,0x24,0x00,0x0E,0xBE,0xA2,0x22,0xBE,0x9E,0x02,0x00,0x00,
0x00,0x04,0xCC,0x6C,0x01,0x90,0xD0,0x7D,0x5F,0x5F,0x7B,0xFA,0x68,0x68,0x60,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x00,0x02,0x02,0x02,0x03,0x03,
0x03,0x03,0x03,0x03,0x00,0x00,0x04,0x03,0x01,0x00,0x00,0x8F,0x8D,0x09,0x0D,0x0D,
0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x0F,0x0D,0x0F,0x0C,0x07,0x04,
0x07,0x07,0x04,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x07,0x03,0x00,0x00,0x02,0x03,0x01,0x0C,0x0E,0x07,0x00,0x00,0x00,0x00,
0x01,0x00,0x00,0x07,0x07,0x80,0x82,0x03,0x01,0x00,0x00,0x00,0x01,0x03,0x02,0x00,
0x00,0x03,0x03,0x00,0x01,0x81,0x00,0x00,0x01,0x0D,0x1C,0x0F,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0xDC,0xF7,0x99,0x0C,0x00,0xE4,0x24,0x34,
0x3E,0x04,0x00,0x00,0x00,0x00,0x00,0x20,0xE0,0xFC,0xFE,0xFA,0x5F,0x52,0xFC,0xFC,
0x12,0xF3,0xD1,0x10,0x10,0x00,0x00,0x00,0x18,0x93,0x42,0x80,0xFE,0x3E,0xF2,0xBF,
0xBF,0xF9,0x79,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xF0,0xF2,0xDA,0xCF,0x42,0x40,0xFF,0x70,0xA8,0x27,0x22,0x20,0x00,0x00,0x00,0x00,
0x00,0x00,0x48,0x68,0x6C,0xBF,0xBF,0x24,0x24,0x84,0x80,0x80,0x00,0x00,0x00,0x00,
0x60,0x70,0x92,0xDE,0xFF,0x7F,0x3B,0xDF,0xD5,0x11,0x38,0x30,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x0C,0x05,0x06,0x02,0x01,0x00,0x07,0x0C,0x0C,
0x0C,0x0C,0x0C,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x07,0x07,0x01,0x04,0x03,0x00,
0x00,0x1F,0x01,0x00,0x00,0x00,0x00,0x00,0x07,0x09,0x0E,0x03,0x0C,0x06,0x08,0x1F,
0x1F,0x00,0x06,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x08,0x18,0x1F,0x07,0x00,0x18,0x1F,0x04,0x00,0x03,0x06,0x06,0x04,0x00,0x00,0x00,
0x07,0x03,0x03,0x06,0x0C,0x08,0x19,0x18,0x18,0x1C,0x09,0x01,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0F,0x05,0x13,0x1F,0x0F,0x02,0x06,0x06,0x04,0x04,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
  };
  int m=0,n=0;
  //与展示校徽函数相同
  for(m=0;m<8;m++){
    LCD_Set_Pos(x,m);
    for(n=0;n<128;n++){
      IIC_writedata(name[m*128+n]);
    }
  }
}
  void IOInit(){   //初始化端口函数

//设置P1.1和P2.1为输入模式  
    P1DIR&=~BIT1;
    P2DIR&=~BIT1;
 //设置P1.1和P2.1使能上拉/下拉模式     
    P1REN|=BIT1;
    P2REN|=BIT1;
//设置P1.1和P2.1为上拉模式      
    P1OUT|=BIT1;
    P2OUT|=BIT1;
//设置P1.0和P4.7为输出模式
    P1DIR|=BIT0;
    P4DIR|=BIT7;
  
  }
  

  int main( void )
{
  enum key_type key;
  unsigned long pre_num=0;
  int flag=0;
  
  
  WDTCTL = WDTPW+WDTHOLD;  // Stop WDT

  LCD_Init();     
  LCD_Show_xh(0,0);//显示屏初始化
  delay_ms(500) ;
  LCD_CLS();
  
  LCD_Show_title(0,0);//显示标题
  delay_ms(500) ;
  LCD_CLS();
  
  LCD_Show_name(0,0);//显示姓名
  delay_ms(1000) ;
  LCD_CLS();
  

  IOInit(); //初始化各种端口
   LCD_Set_Pos(0,0);
 LCD_ShowNum(62,3,pre_num,5,16);//显示初始值0
  while(1)//进入循环
  {
    key = KeyScan();//扫描按键
    if( key != NOKEY )
    {
      switch(key)
      {
        case KEYLEFT : 
          delay_ms(10);
          key = KeyScan();//按键防抖
          if(key==KEYLEFT){//按下左键，减一
          if(flag==0){//非负数情况
            if(pre_num==0){
            pre_num++;
            flag=1;//如果是0，变为1，加上负号
            }
            else{pre_num--;}//不是0直接减一
          }
          
          else{
            pre_num++;//负数直接加一，负号保持
          }
          
          }
          break;//退出switch
        case KEYRIGHT :
         delay_ms(10);
         key = KeyScan();//按键防抖
         if(key==KEYRIGHT){//按下右按，加一
         if(flag==1)//负数情况
         {
          if(pre_num==1)//如果是-1
          {
            pre_num--;//变为0
            flag=0;//去掉负号
            }
            else{pre_num--;}//其他负数直接减一，负号保留
          }
         else{
            pre_num++;//非负数直接加一
          }
         }
          break; //退出switch
      }
       
    }
    if(pre_num==0){LCD_CLS();}//为零清屏，去掉负号
    if (flag==1){
          LCD_ShowChar(54,3,'-',16);//根据flag判断输出是否为负数
        }
       
    LCD_ShowNum(62,3,pre_num,5,16);//输出值
    }
  }


